{% extends "blog/base.html" %}

{% block content %}
    <h2>All Posts</h2>
    {% if posts %}
        {% for post in posts %}
            <div class="post">
                <h3><a href="{% url 'post_detail' post.id %}">{{ post.title }}</a></h3>
                <p>by {{ post.author }} on {{ post.published_date|date:"F j, Y" }}</p>
                <p>{{ post.content|truncatewords:30 }}</p>

                <!-- Display categories for each post -->
                <p>Categories:
                    {% for category in post.categories.all %}
                        <span>{{ category.name }}</span>{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </p>
            </div>
        {% endfor %}
    {% else %}
        <p>No posts available.</p>
    {% endif %}
{% endblock %}


